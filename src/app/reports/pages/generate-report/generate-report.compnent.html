<form [formGroup]="filterForm" (ngSubmit)="generateReport()">
  <app-title
    name="Generador de Reportes"
    subTitle="Selecciona los filtros para generar tu reporte en Excel"
    [showCreateButton]="false"
  ></app-title>
  <div class="container-menu shadow">
    <div class="row">
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="full-width-field">
          <mat-label>Rango de fechas</mat-label>
          <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
            <input
              matStartDate
              formControlName="start"
              placeholder="Fecha inicio"
              readonly
            />
            <input
              matEndDate
              formControlName="end"
              placeholder="Fecha fin"
              readonly
            />
          </mat-date-range-input>
          <mat-datepicker-toggle
            matIconSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-date-range-picker #picker></mat-date-range-picker>
        </mat-form-field>
      </div>
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="full-width-field">
          <mat-label>Tipo de Reporte</mat-label>
          <mat-select required="true" formControlName="report">
            <mat-option *ngFor="let report of reports" [value]="report.value">
              {{ report.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="full-width-field">
          <mat-label>Asesor</mat-label>
          <mat-select formControlName="adviser">
            <mat-option *ngFor="let adviser of advisers" [value]="adviser.id">
              {{ adviser.name }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-lg-6">
        <mat-form-field appearance="outline" class="full-width-field">
          <mat-label>Categorias</mat-label>
          <mat-select multiple formControlName="categories">
            <mat-option
              *ngFor="let category of categories"
              [value]="category.value"
            >
              {{ category.label }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-lg-6 text-right">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="filterForm.invalid"
        >
          Generar y descargar
        </button>
      </div>
      <div class="col-lg-6">
        <button
          type="button"
          (click)="resetForm()"
          class="btn btn-primary-outline"
        >
          Limpiar
        </button>
      </div>
    </div>
  </div>
</form>
